<turbo-stream action="append" target="alerts">
  <template>
    <%= render Avo::FlashAlertsComponent.new flashes: flash %>
  </template>
</turbo-stream>

<turbo-stream action="update" target="actions_show">
  <template>
    <script>
      {
        // This creates a block scope for variables
        let modalResourceFrame = document.getElementById("modal_resource");
        let fallbackLocation = "<%= fallback_location %>";

        if (modalResourceFrame && modalResourceFrame.getAttribute("src")) {
          console.log("reloading frame");
          alert("reloading frame");
          modalResourceFrame.reload();
        } else {
          console.log("Frame 'modal_resource' has no 'src', redirecting to fallback location");
          alert("redirecting to fallback location");
          window.location.href = fallbackLocation;
        }
      }
    </script>
  </template>
</turbo-stream>