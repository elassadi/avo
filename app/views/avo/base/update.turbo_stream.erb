<%
  turbo_frame_id="has_many_field_show_#{@resource.class.name.underscore.gsub("_resource", "").pluralize}"
  resource_model_name = @resource.class.name.underscore.gsub("_resource", "")
%>
<turbo-stream action="update" target="modal_resource">
  <template>
    <script>


      document.dispatchEvent(
        new CustomEvent("resourceUpdated", {
            detail: {
              resourceModelName: "<%=resource_model_name%>",
              resourceModelId: "<%=@resource.model.id%>"
            }
          }
        )
      );
      el =  document.getElementById("<%= turbo_frame_id %>")
      if (el) { el.reload() }
    </script>
  </template>
</turbo-stream>